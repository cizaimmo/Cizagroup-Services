<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portail Client | CIZA GROUP Services</title>

<style>
:root{
--gold:#F2B840; --blue:#06142E; --dark:#020617; --card:#0b1738; --text:#ffffff;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto;background:var(--dark);color:var(--text)}

/* ===== HEADER ===== */
header{
position:fixed; top:0; left:0; right:0;
background:rgba(6,20,46,.97);
border-bottom:1px solid rgba(242,184,64,.25);
z-index:10000;
}
.nav{
max-width:1300px;margin:auto;display:flex;align-items:center;justify-content:space-between;
padding:14px 22px;
}
.logo img{height:54px}
.nav-right{display:flex;align-items:center;gap:18px}
.user-name{font-size:14px;opacity:.9}
.logout-btn{
background:transparent;border:1px solid rgba(242,184,64,.45);color:var(--gold);
padding:8px 18px;border-radius:20px;font-size:13px;cursor:pointer
}
.logout-btn:hover{background:rgba(242,184,64,.15)}

/* ===== MAIN ===== */
main{padding-top:120px;padding-bottom:80px}
.container{
max-width:820px;margin:auto;background:var(--card);padding:36px;border-radius:24px;
border:1px solid rgba(242,184,64,.3);box-shadow:0 30px 80px rgba(0,0,0,.55)
}
.back{
display:inline-block;margin-bottom:18px;padding:10px 20px;border-radius:30px;
border:1px solid rgba(242,184,64,.6);color:var(--gold);text-decoration:none
}
h1{color:var(--gold);margin-bottom:6px}
.subtitle{opacity:.9;margin-bottom:22px}

/* ===== FORM ===== */
label{display:block;margin-top:16px;font-weight:500}
input,select,textarea{
width:100%;padding:14px;margin-top:6px;border-radius:12px;border:none;
background:#020617;color:white;font-size:15px
}
textarea{min-height:120px}
.pricebox{
margin:16px 0;padding:14px;border-radius:14px;background:#0b1738;
border:1px solid var(--gold);font-weight:600
}
.submit-btn{
margin-top:20px;width:100%;background:var(--gold);color:#000;
padding:16px;border:none;border-radius:30px;font-weight:700;font-size:16px;cursor:pointer
}
.submit-btn:hover{opacity:.9}
.notice{margin-top:22px;color:var(--gold);font-weight:600}

/* ===== INFO BLOCKS ===== */
.info{
margin-top:26px;padding:20px;background:#0b1738;border-radius:18px;
border:1px solid rgba(242,184,64,.4)
}
.info h3{color:var(--gold);margin-bottom:8px}

/* ===== FOOTER ===== */
footer{position:relative;background:#020617;border-top:2px solid var(--gold)}
footer::before{
content:"";position:absolute;inset:0;
background:url("https://raw.githubusercontent.com/cizaimmo/Cizagroup-Services/af7b0385b79f9f030ce8ee44bca672121d582666/logotransparent.png")
center/520px no-repeat;opacity:.04;pointer-events:none
}
.footer-inner{
max-width:1300px;margin:auto;padding:56px 24px;display:grid;
grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:36px;position:relative
}
footer h4{color:var(--gold);margin-bottom:10px}
footer a{color:white;text-decoration:none;display:block;margin-bottom:8px}
footer a:hover{color:var(--gold)}
.copy{text-align:center;padding:18px;font-size:14px;opacity:.7;border-top:1px solid rgba(255,255,255,.1)}

@media(max-width:900px){
.user-name{display:none}
}
</style>
</head>

<body>

<header>
  <div class="nav">
    <div class="logo">
      <img src="https://raw.githubusercontent.com/cizaimmo/Cizagroup-Services/af7b0385b79f9f030ce8ee44bca672121d582666/logotransparent.png" alt="CIZA GROUP">
    </div>
    <div class="nav-right">
      <span class="user-name" id="userName">Bienvenue</span>
      <button class="logout-btn" onclick="logout()">D√©connexion</button>
    </div>
  </div>
</header>

<main>
  <div class="container">

    <a class="back" href="index.html#services">‚Üê Retour aux services</a>

    <h1>Bienvenue dans votre espace CIZA GROUP Services</h1>
    <p class="subtitle" id="serviceTitle">Veuillez compl√©ter votre demande afin que notre √©quipe puisse la traiter efficacement.</p>

    <form id="serviceForm">
      <input type="hidden" name="Service" id="serviceInput">
      <input type="hidden" name="Dossier" id="dossierInput">

      <label>Type de lavage</label>
      <select id="lavage" required>
        <option value="">Choisir</option>
        <option value="standard">Lavage Standard ‚Äì Station</option>
        <option value="premium">Lavage Premium ‚Äì Station</option>
        <option value="mobile">Lavage Mobile ‚Äì Domicile</option>
      </select>

      <label>Type de v√©hicule</label>
      <select id="vehicule" required>
        <option value="">Choisir</option>
        <option value="leger">V√©hicule l√©ger</option>
        <option value="suv">SUV / 4x4</option>
      </select>

      <label>Date souhait√©e</label>
      <input type="date" name="Date souhait√©e" required>

      <div class="pricebox">
        Prix estim√© : <span id="prix">‚Äî</span>
      </div>

      <label>Nom & Pr√©nom</label>
      <input name="Nom" required>

      <label>Email</label>
      <input type="email" name="Email" required>

      <label>T√©l√©phone</label>
      <input type="tel" name="T√©l√©phone" required>

      <label>Message (optionnel)</label>
      <textarea name="Message"></textarea>

      <!-- Confidentialit√© obligatoire -->
      <label style="display:flex;gap:12px;align-items:flex-start;margin-top:14px;font-size:14px">
        <input type="checkbox" id="privacy" required>
        <span>
          J‚Äôaccepte la
          <a href="confidentialite.html" target="_blank" style="color:var(--gold)">politique de confidentialit√©</a>
          et le traitement de mes donn√©es par CIZA GROUP.
        </span>
      </label>

      <button class="submit-btn" type="submit">Envoyer ma demande</button>
    </form>

    <!-- Paiement -->
    <div class="info">
      <h3>Modes de paiement accept√©s</h3>
      <ul>
        <li>üì± Lumicash</li>
        <li>üì± EcoCash</li>
        <li>üè¶ Inoti (Bancobu)</li>
      </ul>
      <p style="opacity:.9;margin-top:6px">
        Le service est fourni <strong>apr√®s validation du paiement</strong>.
        Une <strong>facture officielle CIZA GROUP</strong> est fournie pour chaque prestation.
      </p>
    </div>

    <div class="notice" id="confirmation"></div>
  </div>
</main>

<footer>
  <div class="footer-inner">
    <div>
      <h4>CIZA GROUP</h4>
      <a href="index.html#about">√Ä propos</a>
      <a href="index.html#contact">Contact</a>
    </div>
    <div>
      <h4>L√©gal</h4>
      <a href="mentions-legales.html">Mentions l√©gales</a>
      <a href="confidentialite.html">Confidentialit√©</a>
      <a href="conditions.html">Conditions g√©n√©rales</a>
    </div>
    <div>
      <h4>Contact</h4>
      <a href="mailto:infos@cizagroup.com">infos@cizagroup.com</a>
      <a href="https://wa.me/15145029503">WhatsApp International</a>
      <a href="https://wa.me/25779945007">WhatsApp Burundi</a>
      <p>üìç Bujumbura ‚Äì Burundi</p>
    </div>
  </div>
  <div class="copy">¬© 2026 CIZA GROUP ‚Äî Tous droits r√©serv√©s</div>
</footer>

<script>
// ===== USER NAME (temporaire, Firebase-ready)
const pUser = new URLSearchParams(window.location.search);
const userName = pUser.get("user") || "Client";
document.getElementById("userName").innerText = "Bienvenue, " + userName;

// ===== SERVICE CONTEXT
const serviceKey = new URLSearchParams(window.location.search).get("service") || "cizacarwash";
document.getElementById("serviceInput").value = "CizaCarWash+";

// ===== DOSSIER
const year = new Date().getFullYear();
const ref = "CIZA-CW-" + year + "-" + Math.floor(1000 + Math.random()*9000);
document.getElementById("dossierInput").value = ref;

// ===== PRICING
const lavage = document.getElementById("lavage");
const vehicule = document.getElementById("vehicule");
const prixEl = document.getElementById("prix");
function calc(){
  let p="";
  if(lavage.value==="standard") p = vehicule.value==="suv"?"35 000 BIF":"25 000 BIF";
  if(lavage.value==="premium")  p = vehicule.value==="suv"?"55 000 BIF":"40 000 BIF";
  if(lavage.value==="mobile")   p = vehicule.value==="suv"?"70 000 BIF":"55 000 BIF";
  prixEl.textContent = p || "‚Äî";
}
lavage.addEventListener("change", calc);
vehicule.addEventListener("change", calc);

// ===== AJAX SUBMIT (no white page)
const form = document.getElementById("serviceForm");
const confirmation = document.getElementById("confirmation");
form.addEventListener("submit", function(e){
  e.preventDefault();
  const fd = new FormData(form);
  fetch("https://formsubmit.co/ajax/infos@cizagroup.com",{
    method:"POST", body:fd, headers:{Accept:"application/json"}
  }).then(r=>r.json()).then(()=>{
    form.style.display="none";
    confirmation.innerHTML = `
      <div class="info" style="text-align:center">
        <h3>Demande enregistr√©e avec succ√®s</h3>
        <p>Merci pour votre confiance.</p>
        <p style="font-weight:700;margin:10px 0">
          Num√©ro de dossier : <span style="color:var(--gold)">${ref}</span>
        </p>
        <p>
          Un conseiller CIZA GROUP vous contactera pour
          <strong>validation du paiement</strong> et √©mission de la
          <strong>facture officielle</strong>.
        </p>
      </div>`;
  }).catch(()=>alert("Erreur lors de l‚Äôenvoi. Veuillez r√©essayer."));
});

// ===== LOGOUT
function logout(){ window.location.href="login.html"; }
</script>

</body>
</html>
